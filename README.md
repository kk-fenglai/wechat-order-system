# 微信公众号订单管理系统

## 项目简介
这是一个专门为中法集运业务设计的微信公众号订单管理系统。系统帮助管理从中国到法国的集运订单流程，包括客户信息收集、包裹跟踪、支付管理等。

## 主要功能

### 1. 客户信息收集
- 申报信息填写表单
- 包裹内容申报
- 客户联系方式管理

### 2. 订单管理
- 订单状态跟踪
- 仓库地址分配
- 包裹入库确认

### 3. 支付管理
- 费用计算
- 支付状态跟踪
- 付款通知

### 4. 取件管理
- 两种取件方式：
  - 寄到指定地址（适合大量包裹）
  - 到Komé Café-Atelier Lyon 1自取

## 业务流程

1. **信息收集**：客户填写申报信息表单
2. **审核整理**：系统审核客户信息，分配仓库地址
3. **包裹入库**：客户寄送包裹到指定仓库
4. **重新打包**：检查包裹内容，重新整合打包
5. **费用计算**：计算运费并通知客户付款
6. **取件安排**：客户选择取件方式并完成取件

## 技术栈
- 前端：HTML5, CSS3, JavaScript, Vue.js
- 后端：Node.js, Express
- 数据库：MongoDB
- 微信公众号API集成

## 安装和运行

### 方式一：本地部署
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build
```

### 方式二：微信云开发（推荐）
```bash
# 运行快速设置脚本
cloud-setup.bat

# 或手动安装云函数依赖
cd cloudfunctions/wechat-message
npm install
```

## 配置说明

### 本地部署配置
1. 在 `config/` 目录下配置微信公众号相关参数
2. 设置数据库连接信息
3. 配置支付接口参数

### 云开发配置
1. 在微信公众平台开通云开发
2. 配置云函数环境变量
3. 部署云函数到云端
4. 配置微信公众号服务器地址

详细部署指南请查看：[云开发部署指南](docs/cloud-deployment.md)

## 目录结构
```
微信公众号/
├── src/
│   ├── components/     # 前端组件
│   ├── pages/         # 页面文件
│   ├── api/           # API接口
│   └── utils/         # 工具函数
├── cloudfunctions/    # 云函数
│   └── wechat-message/ # 微信公众号消息处理云函数
├── config/            # 配置文件
├── public/            # 静态资源
├── docs/              # 文档
├── cloudbase.json     # 云开发配置
├── cloud-setup.bat    # 云开发快速设置脚本
└── start.bat          # 本地启动脚本
``` 